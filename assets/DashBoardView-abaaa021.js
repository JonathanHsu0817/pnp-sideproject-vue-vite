import{S as D}from"./sweetalert2.all-ff53c44a.js";import{g as U,h as W,_ as Y,r as k,o as x,c as J,b as t,d as w,w as C,e as S,D as Q,j as Z,n as X}from"./index-f05f6b06.js";import{r as ee,a as te,c as se,b as ie}from"./base-component-87192791.js";var N={exports:{}};/*!
  * Bootstrap collapse.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(c,l){(function(r,A){c.exports=A(ee(),te(),se(),ie())})(U,function(r,A,g,u){const a=o=>o&&typeof o=="object"&&"default"in o?o:{default:o},d=a(A),n=a(g),y=a(u),I="collapse",E=".bs.collapse",$=".data-api",V=`show${E}`,O=`shown${E}`,H=`hide${E}`,B=`hidden${E}`,P=`click${E}${$}`,b="show",f="collapse",v="collapsing",M="collapsed",R=`:scope .${f} .${f}`,z="collapse-horizontal",j="width",F="height",q=".collapse.show, .collapse.collapsing",L='[data-bs-toggle="collapse"]',G={parent:null,toggle:!0},K={parent:"(null|element)",toggle:"boolean"};class p extends y.default{constructor(e,i){super(e,i),this._isTransitioning=!1,this._triggerArray=[];const s=n.default.find(L);for(const h of s){const m=r.getSelectorFromElement(h),T=n.default.find(m).filter(_=>_===this._element);m!==null&&T.length&&this._triggerArray.push(h)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return G}static get DefaultType(){return K}static get NAME(){return I}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(q).filter(_=>_!==this._element).map(_=>p.getOrCreateInstance(_,{toggle:!1}))),e.length&&e[0]._isTransitioning||d.default.trigger(this._element,V).defaultPrevented)return;for(const _ of e)_.hide();const s=this._getDimension();this._element.classList.remove(f),this._element.classList.add(v),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const h=()=>{this._isTransitioning=!1,this._element.classList.remove(v),this._element.classList.add(f,b),this._element.style[s]="",d.default.trigger(this._element,O)},T=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(h,this._element,!0),this._element.style[s]=`${this._element[T]}px`}hide(){if(this._isTransitioning||!this._isShown()||d.default.trigger(this._element,H).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,r.reflow(this._element),this._element.classList.add(v),this._element.classList.remove(f,b);for(const h of this._triggerArray){const m=r.getElementFromSelector(h);m&&!this._isShown(m)&&this._addAriaAndCollapsedClass([h],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(v),this._element.classList.add(f),d.default.trigger(this._element,B)};this._element.style[i]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(b)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=r.getElement(e.parent),e}_getDimension(){return this._element.classList.contains(z)?j:F}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(L);for(const i of e){const s=r.getElementFromSelector(i);s&&this._addAriaAndCollapsedClass([i],this._isShown(s))}}_getFirstLevelChildren(e){const i=n.default.find(R,this._config.parent);return n.default.find(e,this._config.parent).filter(s=>!i.includes(s))}_addAriaAndCollapsedClass(e,i){if(e.length)for(const s of e)s.classList.toggle(M,!i),s.setAttribute("aria-expanded",i)}static jQueryInterface(e){const i={};return typeof e=="string"&&/show|hide/.test(e)&&(i.toggle=!1),this.each(function(){const s=p.getOrCreateInstance(this,i);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}return d.default.on(document,P,L,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();const e=r.getSelectorFromElement(this),i=n.default.find(e);for(const s of i)p.getOrCreateInstance(s,{toggle:!1}).toggle()}),r.defineJQueryPlugin(p),p})})(N);var ne=N.exports;const oe=W(ne),{VITE_API_URL:le}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"blacknwhiterabbit",BASE_URL:"/pnp-sideproject-vue-vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},re={data(){return{status:!1,isOpened:!1,orderToggle:"",isLoading:!1}},methods:{checkLogin(){const c=`${le}/api/user/check`;this.$http.post(c).then(()=>{this.status=!0}).catch(l=>{D.fire({icon:"error",title:l.response.data.message,showConfirmButton:!1,timer:1500}),this.$router.push("/login")})},logout(){document.cookie=`hexschool=; expires=${new Date}`,this.$router.push("/login")},menuToggle(){this.orderToggle.toggle()}},mounted(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${c}`,c?this.checkLogin():(D.fire({icon:"error",title:"請重新登入",showConfirmButton:!1,timer:1500}),this.$router.push("/")),this.orderToggle=new oe("#menu-order",{toggle:!0})}},ae={class:"sidebar vh-100 border-end d-flex bg-white flex-column"},ce=t("h1",{class:"mb-0 lh-1"},[t("img",{src:"https://raw.githubusercontent.com/JonathanHsu0817/pnp-sideproject-vue-vite/50c90f0d43b9d9a02c615d063406e45a35470573/public/Logo.svg",width:"104",alt:""}),t("span",{class:"fs-6 text-white"},"- 後台管理")],-1),de={class:"overflow-auto"},he=t("div",{class:"d-flex justify-content-between align-items-center px-5"},[t("p",{class:"mb-0"}," 訂單管理 "),t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-down",viewBox:"0 0 16 16"},[t("path",{d:"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"})])],-1),_e=[he],ge={class:"collapse",id:"menu-order"},ue=t("div",{class:"ps-9"}," 訂單列表 ",-1),fe=t("div",{class:"px-5"}," 產品列表 ",-1),pe=t("div",{class:"px-5"}," 優惠券管理 ",-1),me=t("div",{class:"px-5"}," 登出按鈕 ",-1),Ee=[me],Ae={class:"main"},ve={class:"bg-white w-100 border-bottom sticky-top"},we=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-angle-expand",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707z"})],-1),Ce=[we],be={class:"p-5"};function Le(c,l,r,A,g,u){const a=k("router-link"),d=k("RouterView");return x(),J("div",{class:X(["d-flex",{"sidebar-toggled":g.isOpened}])},[t("aside",ae,[w(a,{to:"/admin/products",class:"d-block px-5 pb-2 bg-primary"},{default:C(()=>[ce]),_:1}),t("div",de,[t("div",null,[t("a",{href:"#",class:"sidebar-link",id:"btn-collapse",onClick:l[0]||(l[0]=S((...n)=>u.menuToggle&&u.menuToggle(...n),["prevent"]))},_e),t("div",ge,[w(a,{to:"/admin/orders",class:"sidebar-link"},{default:C(()=>[ue]),_:1})])]),t("div",null,[w(a,{to:"/admin/products",class:"sidebar-link"},{default:C(()=>[fe]),_:1})]),t("div",null,[w(a,{to:"/admin/coupons",class:"sidebar-link"},{default:C(()=>[pe]),_:1})])]),t("a",{href:"#",onClick:l[1]||(l[1]=S((...n)=>u.logout&&u.logout(...n),["prevent"])),class:"sidebar-link mt-auto"},Ee)]),t("main",Ae,[t("div",ve,[t("a",{href:"#",class:"d-inline-block py-4 px-5 border-end",onClick:l[2]||(l[2]=S(n=>g.isOpened=!g.isOpened,["prevent"]))},Ce)]),t("div",be,[g.status?(x(),Q(d,{key:0})):Z("",!0)])])],2)}const xe=Y(re,[["render",Le]]);export{xe as default};
