import{S as x,_ as U}from"./loading-7aff74c7.js";import{g as W,h as Y,_ as J,r as D,o as N,c as Q,a as v,w,b as t,d as k,i as Z,j as X,n as ee,F as te}from"./index-ba560a6d.js";import{r as se,a as ie,b as ne,c as oe}from"./base-component-c4ce8557.js";var y={exports:{}};/*!
  * Bootstrap collapse.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,l){(function(r,C){a.exports=C(se(),ie(),ne(),oe())})(W,function(r,C,_,u){const E=o=>o&&typeof o=="object"&&"default"in o?o:{default:o},n=E(C),c=E(_),g=E(u),I="collapse",A=".bs.collapse",V=".data-api",$=`show${A}`,O=`shown${A}`,H=`hide${A}`,B=`hidden${A}`,P=`click${A}${V}`,b="show",f="collapse",L="collapsing",M="collapsed",R=`:scope .${f} .${f}`,z="collapse-horizontal",F="width",j="height",q=".collapse.show, .collapse.collapsing",T='[data-bs-toggle="collapse"]',G={parent:null,toggle:!0},K={parent:"(null|element)",toggle:"boolean"};class m extends g.default{constructor(e,i){super(e,i),this._isTransitioning=!1,this._triggerArray=[];const s=c.default.find(T);for(const d of s){const p=r.getSelectorFromElement(d),S=c.default.find(p).filter(h=>h===this._element);p!==null&&S.length&&this._triggerArray.push(d)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return G}static get DefaultType(){return K}static get NAME(){return I}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(q).filter(h=>h!==this._element).map(h=>m.getOrCreateInstance(h,{toggle:!1}))),e.length&&e[0]._isTransitioning||n.default.trigger(this._element,$).defaultPrevented)return;for(const h of e)h.hide();const s=this._getDimension();this._element.classList.remove(f),this._element.classList.add(L),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const d=()=>{this._isTransitioning=!1,this._element.classList.remove(L),this._element.classList.add(f,b),this._element.style[s]="",n.default.trigger(this._element,O)},S=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(d,this._element,!0),this._element.style[s]=`${this._element[S]}px`}hide(){if(this._isTransitioning||!this._isShown()||n.default.trigger(this._element,H).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,r.reflow(this._element),this._element.classList.add(L),this._element.classList.remove(f,b);for(const d of this._triggerArray){const p=r.getElementFromSelector(d);p&&!this._isShown(p)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(L),this._element.classList.add(f),n.default.trigger(this._element,B)};this._element.style[i]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(b)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=r.getElement(e.parent),e}_getDimension(){return this._element.classList.contains(z)?F:j}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(T);for(const i of e){const s=r.getElementFromSelector(i);s&&this._addAriaAndCollapsedClass([i],this._isShown(s))}}_getFirstLevelChildren(e){const i=c.default.find(R,this._config.parent);return c.default.find(e,this._config.parent).filter(s=>!i.includes(s))}_addAriaAndCollapsedClass(e,i){if(e.length)for(const s of e)s.classList.toggle(M,!i),s.setAttribute("aria-expanded",i)}static jQueryInterface(e){const i={};return typeof e=="string"&&/show|hide/.test(e)&&(i.toggle=!1),this.each(function(){const s=m.getOrCreateInstance(this,i);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}return n.default.on(document,P,T,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();const e=r.getSelectorFromElement(this),i=c.default.find(e);for(const s of i)m.getOrCreateInstance(s,{toggle:!1}).toggle()}),r.defineJQueryPlugin(m),m})})(y);var le=y.exports;const re=Y(le),{VITE_API_URL:ae}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"blacknwhiterabbit",BASE_URL:"/pnp-sideproject-vue-vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},ce={data(){return{status:!1,isOpened:!1,orderToggle:""}},methods:{checkLogin(){const a=`${ae}/api/user/check`;this.$http.post(a).then(()=>{this.status=!0}).catch(l=>{x.fire({icon:"error",title:l.response.data.message,showConfirmButton:!1,timer:1500}),this.$router.push("/")})},logout(){document.cookie=`hexschool=; expires=${new Date}`,this.$router.push("/")},menuToggle(){this.orderToggle.toggle()}},mounted(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${a}`,a?this.checkLogin():(x.fire({icon:"error",title:"請重新登入",showConfirmButton:!1,timer:1500}),this.$router.push("/")),this.orderToggle=new re("#menu-order",{toggle:!0})}},de=t("img",{src:U,alt:""},null,-1),he={class:"sidebar vh-100 border-end d-flex bg-white flex-column"},_e=t("h1",{class:"mb-0 lh-1"},[t("img",{src:"https://raw.githubusercontent.com/JonathanHsu0817/pnp-sideproject-vue-vite/50c90f0d43b9d9a02c615d063406e45a35470573/public/Logo.svg",width:"104",alt:""}),t("span",{class:"fs-6 text-white"},"- 後台管理")],-1),ue={class:"overflow-auto"},ge=t("div",{class:"d-flex justify-content-between align-items-center px-5"},[t("p",{class:"mb-0"}," 訂單管理 "),t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-down",viewBox:"0 0 16 16"},[t("path",{d:"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"})])],-1),fe=[ge],me={class:"collapse",id:"menu-order"},pe=t("div",{class:"ps-9"}," 訂單列表 ",-1),Ee=t("div",{class:"px-5"}," 產品列表 ",-1),Ae=t("div",{class:"px-5"}," 優惠券管理 ",-1),ve=t("div",{class:"px-5"}," 登出按鈕 ",-1),we=[ve],Ce={class:"main"},Le={class:"bg-white w-100 border-bottom sticky-top"},be=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-angle-expand",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707z"})],-1),Te=[be],Se={class:"p-5"};function De(a,l,r,C,_,u){const E=D("VueLoading"),n=D("router-link"),c=D("RouterView");return N(),Q(te,null,[v(E,{active:a.isLoading},{default:w(()=>[de]),_:1},8,["active"]),t("div",{class:ee(["d-flex",{"sidebar-toggled":_.isOpened}])},[t("aside",he,[v(n,{to:"/admin/products",class:"d-block px-5 pb-2 bg-primary"},{default:w(()=>[_e]),_:1}),t("div",ue,[t("div",null,[t("a",{href:"#",class:"sidebar-link",id:"btn-collapse",onClick:l[0]||(l[0]=k((...g)=>u.menuToggle&&u.menuToggle(...g),["prevent"]))},fe),t("div",me,[v(n,{to:"/admin/orders",class:"sidebar-link"},{default:w(()=>[pe]),_:1})])]),t("div",null,[v(n,{to:"/admin/products",class:"sidebar-link"},{default:w(()=>[Ee]),_:1})]),t("div",null,[v(n,{to:"/admin/coupons",class:"sidebar-link"},{default:w(()=>[Ae]),_:1})])]),t("a",{href:"#",onClick:l[1]||(l[1]=k((...g)=>u.logout&&u.logout(...g),["prevent"])),class:"sidebar-link mt-auto"},we)]),t("main",Ce,[t("div",Le,[t("a",{href:"#",class:"d-inline-block py-4 px-5 border-end",onClick:l[2]||(l[2]=k(g=>_.isOpened=!_.isOpened,["prevent"]))},Te)]),t("div",Se,[_.status?(N(),Z(c,{key:0})):X("",!0)])])],2)],64)}const Ie=J(ce,[["render",De]]);export{Ie as default};
