import{g as lt,h as ct,m as M,i as O,_ as x,r as k,o as _,c as b,b as t,d as l,w as u,a as m,n as g,e as w,j as dt,F as q,k as ft,t as E,f as ut,v as pt,l as T}from"./index-f10cf98c.js";import{r as ht,a as mt,b as _t,c as bt}from"./base-component-e4e006c9.js";import{r as vt,a as gt,b as wt,c as kt}from"./component-functions-583109cb.js";import{p as R}from"./productsStore-751cc10c.js";import{c as D}from"./cartStore-73015a53.js";import"./toast-ed0faeed.js";import"./sweetalert2.all-492a50e4.js";var K={exports:{}};/*!
  * Bootstrap offcanvas.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,s){(function(f,y){e.exports=y(ht(),vt(),mt(),_t(),bt(),gt(),wt(),kt())})(lt,function(f,y,C,n,o,i,S,A){const v=c=>c&&typeof c=="object"&&"default"in c?c:{default:c},$=v(y),d=v(C),W=v(n),N=v(o),Y=v(i),G=v(S),J="offcanvas",p=".bs.offcanvas",L=".data-api",U=`load${p}${L}`,Q="Escape",V="show",j="showing",F="hiding",Z="offcanvas-backdrop",P=".offcanvas.show",X=`show${p}`,tt=`shown${p}`,et=`hide${p}`,B=`hidePrevented${p}`,H=`hidden${p}`,st=`resize${p}`,ot=`click${p}${L}`,at=`keydown.dismiss${p}`,nt='[data-bs-toggle="offcanvas"]',it={backdrop:!0,keyboard:!0,scroll:!1},rt={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class h extends W.default{constructor(a,r){super(a,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return it}static get DefaultType(){return rt}static get NAME(){return J}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){if(this._isShown||d.default.trigger(this._element,X,{relatedTarget:a}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new $.default().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(j);const I=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(V),this._element.classList.remove(j),d.default.trigger(this._element,tt,{relatedTarget:a})};this._queueCallback(I,this._element,!0)}hide(){if(!this._isShown||d.default.trigger(this._element,et).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(F),this._backdrop.hide();const r=()=>{this._element.classList.remove(V,F),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new $.default().reset(),d.default.trigger(this._element,H)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=()=>{if(this._config.backdrop==="static"){d.default.trigger(this._element,B);return}this.hide()},r=!!this._config.backdrop;return new Y.default({className:Z,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?a:null})}_initializeFocusTrap(){return new G.default({trapElement:this._element})}_addEventListeners(){d.default.on(this._element,at,a=>{if(a.key===Q){if(!this._config.keyboard){d.default.trigger(this._element,B);return}this.hide()}})}static jQueryInterface(a){return this.each(function(){const r=h.getOrCreateInstance(this,a);if(typeof a=="string"){if(r[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);r[a](this)}})}}return d.default.on(document,ot,nt,function(c){const a=f.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&c.preventDefault(),f.isDisabled(this))return;d.default.one(a,H,()=>{f.isVisible(this)&&this.focus()});const r=N.default.findOne(P);r&&r!==a&&h.getInstance(r).hide(),h.getOrCreateInstance(a).toggle(this)}),d.default.on(window,U,()=>{for(const c of N.default.find(P))h.getOrCreateInstance(c).show()}),d.default.on(window,st,()=>{for(const c of N.default.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(c).position!=="fixed"&&h.getOrCreateInstance(c).hide()}),A.enableDismissTrigger(h),f.defineJQueryPlugin(h),h})})(K);var yt=K.exports;const z=ct(yt),$t={data(){return{offcanvas:""}},methods:{show(){this.offcanvas.show()},hide(){this.offcanvas.hide()},...M(R,["filterProducts"])},mounted(){this.offcanvas=new z(this.$refs.offcanvas)},computed:{...O(R,["category","getProducts"])}},Ct={class:"offcanvas offcanvas-start",ref:"offcanvas"},Et={class:"offcanvas-header py-8 pb-md-8"},xt=t("i",{class:"fas fa-bars text-primary fs-4"},null,-1),St=[xt],At={class:"offcanvas-body"},Nt={class:"menu-list list-unstyled mb-0"},Dt=t("li",{class:"d-block d-flex justify-content-center align-items-end fs-5 fw-bold mb-11"},[m("菜單"),t("span",{class:"text-primary fs-6 fw-normal ms-3"},"Menu")],-1),Ot=t("span",{class:"link-primary fs-6 fw-normal ms-3"},"All",-1),Tt=t("span",{class:"link-primary fs-6 fw-normal ms-3"},"Appetizer",-1),Lt=t("span",{class:"link-primary fs-6 fw-normal ms-3"},"Sharing Courses",-1),Vt=t("span",{class:"link-primary fs-6 fw-normal ms-3"},"Delicate Courses",-1),jt=t("span",{class:"link-primary fs-6 fw-normal ms-3"},"Side Dishes",-1),Ft=t("span",{class:"link-primary fs-6 fw-normal ms-3"},"Dessert",-1),Pt=t("span",{class:"link-primary fs-6 fw-normal ms-3"},"Beverages",-1);function Bt(e,s,f,y,C,n){const o=k("RouterLink");return _(),b("div",Ct,[t("div",Et,[t("button",{class:"btn btn-white me-9 me-md-10",type:"button",onClick:s[0]||(s[0]=(...i)=>n.hide&&n.hide(...i))},St)]),t("div",At,[t("ul",Nt,[Dt,t("li",null,[l(o,{to:"/products",class:g(["d-block d-flex justify-content-center align-items-end btn border-0 fs-5 fw-bold mb-9",`${e.category===""?"active":""}`]),onClick:s[1]||(s[1]=w(i=>(e.filterProducts(""),n.hide()),["prevent"]))},{default:u(()=>[m("全部餐點 "),Ot]),_:1},8,["class"])]),t("li",null,[l(o,{to:"/products",class:g(["d-block d-flex justify-content-center align-items-end btn border-0 fs-5 fw-bold mb-9",`${e.category==="前菜"?"active":""}`]),onClick:s[2]||(s[2]=w(i=>(e.filterProducts("前菜"),n.hide()),["prevent"]))},{default:u(()=>[m("前菜"),Tt]),_:1},8,["class"])]),t("li",null,[l(o,{to:"/products",class:g(["d-block d-flex justify-content-center align-items-end btn border-0 fs-5 fw-bold mb-9",`${e.category==="抱食主菜"?"active":""}`]),onClick:s[3]||(s[3]=w(i=>(e.filterProducts("抱食主菜"),n.hide()),["prevent"]))},{default:u(()=>[m("抱食主菜"),Lt]),_:1},8,["class"])]),t("li",null,[l(o,{to:"/products",class:g(["d-block d-flex justify-content-center align-items-end btn border-0 fs-5 fw-bold mb-9",`${e.category==="主廚精選"?"active":""}`]),onClick:s[4]||(s[4]=w(i=>(e.filterProducts("主廚精選"),n.hide()),["prevent"]))},{default:u(()=>[m("主廚精選"),Vt]),_:1},8,["class"])]),t("li",null,[l(o,{to:"/products",class:g(["d-block d-flex justify-content-center align-items-end btn border-0 fs-5 fw-bold mb-9",`${e.category==="配菜"?"active":""}`]),onClick:s[5]||(s[5]=w(i=>(e.filterProducts("配菜"),n.hide()),["prevent"]))},{default:u(()=>[m("配菜"),jt]),_:1},8,["class"])]),t("li",null,[l(o,{to:"/products",class:g(["d-block d-flex justify-content-center align-items-end btn border-0 fs-5 fw-bold mb-9",`${e.category==="甜點"?"active":""}`]),onClick:s[6]||(s[6]=w(i=>(e.filterProducts("甜點"),n.hide()),["prevent"]))},{default:u(()=>[m("甜點"),Ft]),_:1},8,["class"])]),t("li",null,[l(o,{to:"/products",class:g(["d-block d-flex justify-content-center align-items-end btn border-0 fs-5 fw-bold",`${e.category==="飲料及酒"?"active":""}`]),onClick:s[7]||(s[7]=w(i=>(e.filterProducts("飲料及酒"),n.hide()),["prevent"]))},{default:u(()=>[m("飲料 & 酒"),Pt]),_:1},8,["class"])])])])],512)}const Ht=x($t,[["render",Bt]]),It={data(){return{cartOffcanvas:""}},methods:{show(){this.cartOffcanvas.show()},hide(){this.cartOffcanvas.hide()},priceFormat(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},...M(D,["getCart","delCart","updateCart","delCarts"])},mounted(){this.cartOffcanvas=new z(this.$refs.cartOffcanvas),this.getCart()},computed:{...O(D,["carts","total","loadingItem"])}},Rt={class:"offcanvas offcanvas-end overflow-scroll",id:"offcanvasShoppingCart",ref:"cartOffcanvas"},Mt=T('<div class="offcanvas-header pt-8 pb-md-10 pb-8"><div class="d-flex justify-content-between align-items-center"><i class="fas fa-shopping-cart text-primary fs-4 me-3"></i><h5 id="#offcanvasShoppingCartLabel" class="fs-4 fw-bold mb-0">購物車</h5></div><button type="button" class="btn-close text-reset me-1" data-bs-dismiss="offcanvas" aria-label="Close"></button></div>',1),qt={key:0,class:"col-12 d-flex flex-column justify-content-center align-items-center mb-8"},Kt=t("p",{class:"mb-4"},[t("i",{class:"fas fa-shopping-cart text-primary mb-2 me-2 fs-5"}),m("購物車內沒有商品")],-1),zt={class:"cart-card d-flex align-items-center border-bottom border-1 pb-4 mb-4"},Wt=["src","alt"],Yt={class:"card-content col-5"},Gt={class:"mb-2"},Jt={class:"text-primary"},Ut={class:"cart-num col-2 ms-2 ms-md-3"},Qt=["onUpdate:modelValue","onChange","disabled"],Zt=["onClick","disabled"],Xt={key:0,class:"fas fa-spinner fa-pulse"},te={key:1,class:"fas fa-trash-alt text-primary fs-4"},ee={class:"cart-charge-content px-3 d-flex mb-16"},se={class:"d-flex align-items-center ms-auto"},oe=t("h5",{class:"mb-0"},"小計金額",-1),ae={class:"cart-charge-total text-primary fs-6 ms-3"},ne={class:"cart-footer px-3 font-monospace"},ie={class:"d-flex flex-column"},re=["disabled"];function le(e,s,f,y,C,n){return _(),b("div",Rt,[Mt,e.carts.length?dt("",!0):(_(),b("div",qt,[Kt,t("a",{class:"btn btn-primary py-3 px-5 text-dark",role:"button",onClick:s[0]||(s[0]=o=>this.$router.push("/products"))},"再去晃晃吧")])),(_(!0),b(q,null,ft(e.carts,o=>(_(),b("div",{key:o.id,class:"cart-body px-3 font-monospace"},[t("div",zt,[t("img",{class:"cart-img object-position-top me-2 me-md-3",src:o.product.imageUrl,alt:o.product.title},null,8,Wt),t("div",Yt,[t("p",Gt,E(o.product.title),1),t("span",Jt,E(`NT$ ${n.priceFormat(o.product.price)}`),1)]),t("div",Ut,[ut(t("input",{type:"number",class:"cart-input text-center lh-1 py-3",id:"cart-input","onUpdate:modelValue":i=>o.qty=i,onChange:i=>e.updateCart(o),disabled:o.id===e.loadingItem},null,40,Qt),[[pt,o.qty,void 0,{number:!0}]])]),t("a",{href:"#",class:"cart-delete d-block ms-4 ms-md-3",onClick:i=>e.delCart(o.id),disabled:o.id===e.loadingItem},[o.id===e.loadingItem?(_(),b("i",Xt)):(_(),b("i",te))],8,Zt)])]))),128)),t("div",ee,[t("div",se,[oe,t("span",ae,E(`NT$ ${n.priceFormat(e.total)}`),1)])]),t("div",ne,[t("div",ie,[t("button",{href:"#",class:"js-confirm btn btn-primary text-white round-0 py-3 mb-6",onClick:s[1]||(s[1]=o=>(this.$router.push("/cart"),n.hide())),disabled:!e.carts.length},"前往結帳",8,re),t("button",{href:"#",class:"js-deleteAllCart btn btn-outline-secondary border-0 round-0 align-self-center py-2 px-4 mb-4",onClick:s[2]||(s[2]=o=>e.delCarts())},"清空購物車")])])],512)}const ce=x(It,[["render",le]]);const de={},fe={class:"footer bg-primary",style:{"background-image":"url('https://github.com/JonathanHsu0817/pnp-sideproject-vue-vite/blob/main/public/ImgFooter.svg')","background-repeat":"no-repeat","background-position":"bottom 0px right 0px"}},ue={class:"container-xl pb-28 pb-sm-16"},pe={class:"footer-head d-flex justify-content-between mb-7 px-sm-1"},he={class:"logo mt-8"},me=t("img",{src:"https://raw.githubusercontent.com/JonathanHsu0817/pnp-sideproject-vue-vite/60c54a5d562fce6d04d189c486729ba4046851c8/public/LogoFooter.svg",alt:"logofooter"},null,-1),_e=T('<div class="platform d-flex mt-7"><a href="https://www.facebook.com/palnpals" class="d-block icon-hover"><i class="fab fa-facebook fs-2 text-white me-7"></i></a><a href="https://www.instagram.com/palnpals/" class="d-block icon-hover"><i class="fab fa-instagram fs-2 text-white"></i></a></div>',1),be=T('<ul class="footer-content list-unstyled text-white px-sm-1"><li class="d-sm-flex flex-wrap d-block mb-3"><h5 class="fs-6 lh-base me-7 mb-1">官方 Facebook：</h5><a class="text-decoration-none text-white icon-hover" href="https://www.facebook.com/palnpals">https://www.facebook.com/palnpals</a></li><li class="d-sm-flex flex-wrap d-block mb-3"><h5 class="fs-6 lh-base me-7 mb-1">官方 Instagram：</h5><a class="text-decoration-none text-white icon-hover" href="https://www.instagram.com/palnpals/">https://www.instagram.com/palnpals/</a></li><li class="d-sm-flex flex-wrap d-block"><h5 class="fs-6 lh-base me-7 mb-0">電話：</h5><a class="text-decoration-none text-white icon-hover" href="tel:+02 1234 5678">02 1234 5678</a></li></ul>',1);function ve(e,s){const f=k("RouterLink");return _(),b("div",fe,[t("div",ue,[t("div",pe,[t("div",he,[l(f,{to:"/",class:"footer-logo icon-hover"},{default:u(()=>[me]),_:1})]),_e]),be])])}const ge=x(de,[["render",ve]]),we={components:{MenuOffcanvas:Ht,CartOffcanvas:ce,FooterComp:ge},data(){return{offcanvas:""}},methods:{open(){this.$refs.offcanvas.show()},openCart(){this.$refs.cartOffcanvas.show()}},computed:{...O(D,["carts"])}},ke={class:"navbar navbar-expand-lg navbar-light bg-primary py-3"},ye={class:"container-fluid"},$e=t("i",{class:"fas fa-bars text-white fs-4"},null,-1),Ce=[$e],Ee={class:"navbar-brand mb-0 me-0"},xe=t("img",{src:"https://raw.githubusercontent.com/JonathanHsu0817/pnp-sideproject-vue-vite/50c90f0d43b9d9a02c615d063406e45a35470573/public/Logo.svg",alt:""},null,-1),Se={class:"d-flex align-center me-2"},Ae=t("i",{class:"fas fa-user text-white fs-3"},null,-1),Ne=t("i",{class:"fas fa-shopping-cart text-primary fs-4"},null,-1),De={class:"position-absolute top-0 start-100 translate-middle badge bg-danger rounded-pill px-2"};function Oe(e,s,f,y,C,n){const o=k("RouterLink"),i=k("MenuOffcanvas"),S=k("CartOffcanvas"),A=k("RouterView"),v=k("FooterComp");return _(),b(q,null,[t("nav",ke,[t("div",ye,[t("button",{class:"btn btn-primary me-9 me-md-10",type:"button",onClick:s[0]||(s[0]=(...$)=>n.open&&n.open(...$))},Ce),t("h1",Ee,[l(o,{to:"/"},{default:u(()=>[xe]),_:1})]),t("div",Se,[l(o,{to:"/login",class:"btn btn-primary me-md-2 pt-2 pb-1"},{default:u(()=>[Ae]),_:1}),t("button",{class:"btn btn-shopping-cart btn-circle bg-white position-relative",type:"button",onClick:s[1]||(s[1]=(...$)=>n.openCart&&n.openCart(...$))},[Ne,t("span",De,E(e.carts.length),1)])])])]),l(i,{ref:"offcanvas"},null,512),l(S,{ref:"cartOffcanvas"},null,512),l(A),l(v)],64)}const Ie=x(we,[["render",Oe]]);export{Ie as default};
