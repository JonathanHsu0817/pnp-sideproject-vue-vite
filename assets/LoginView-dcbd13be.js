import{S as l}from"./sweetalert2.all-bac1df5d.js";import{_ as u,r as p,o as _,c as f,d as h,w as g,b as e,e as w,f as d,v as c,F as v}from"./index-c9fa16db.js";import{_ as b}from"./loading-0268191f.js";const{VITE_API_URL:x}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"blacknwhiterabbit",BASE_URL:"/pnp-sideproject-vue-vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},L={data(){return{user:{username:"",password:""},isLoading:!1}},methods:{login(){this.isLoading=!0;const i=`${x}admin/signin`;this.$http.post(i,this.user).then(s=>{const{token:n,expired:r,message:o}=s.data;document.cookie=`hexToken=${n}; expires=${new Date(r)}`,l.fire({icon:"success",title:o,showConfirmButton:!1,timer:1500}),this.$router.push("/admin/products"),this.isLoading=!1}).catch(s=>{l.fire({icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:1500}),this.isLoading=!1})}}},V=e("img",{src:b,alt:""},null,-1),E={class:"container vh-100"},y={class:"row justify-content-center align-items-center h-100"},P={class:"col-8"},k=e("h1",{class:"h3 mb-3 text-center font-weight-normal"}," 請先登入 ",-1),B={class:"form-floating mb-3"},I=e("label",{for:"username"},"Email address",-1),S={class:"form-floating"},T=e("label",{for:"password"},"Password",-1),A=e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1);function D(i,s,n,r,o,a){const m=p("VueLoading");return _(),f(v,null,[h(m,{active:o.isLoading},{default:g(()=>[V]),_:1},8,["active"]),e("div",E,[e("div",y,[e("div",P,[k,e("form",{id:"form",class:"form-signin",onSubmit:s[2]||(s[2]=w((...t)=>a.login&&a.login(...t),["prevent"]))},[e("div",B,[d(e("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":s[0]||(s[0]=t=>o.user.username=t),required:"",autofocus:""},null,512),[[c,o.user.username]]),I]),e("div",S,[d(e("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=t=>o.user.password=t),required:""},null,512),[[c,o.user.password]]),T]),A],32)])])])],64)}const M=u(L,[["render",D]]);export{M as default};
