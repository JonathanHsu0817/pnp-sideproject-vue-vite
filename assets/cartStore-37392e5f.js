import{E as d,G as e}from"./index-f05f6b06.js";import{T as s}from"./toast-9b7ee80e.js";const{VITE_API_URL:n,VITE_API_PATH:p}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"blacknwhiterabbit",BASE_URL:"/pnp-sideproject-vue-vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},l=d("productsStore",{state:()=>({products:[],category:"",pagination:{},isLoading:!1}),actions:{getProducts(t=1){this.isLoading=!0,e.get(`${n}/api/${p}/products?page=${t}&category=${this.category}`).then(a=>{this.products=a.data.products,this.pagination=a.data.pagination,this.isLoading=!1}).catch(a=>{s(a.response.data.message,"error"),this.isLoading=!1})},filterProducts(t){this.category!==t&&(this.category=t,this.getProducts())}},getters:{sortProducts({products:t}){return t.sort((a,i)=>i.price-a.price)}}}),{VITE_API_URL:o,VITE_API_PATH:r}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"blacknwhiterabbit",BASE_URL:"/pnp-sideproject-vue-vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},u=d("cartStore",{state:()=>({carts:[],total:0,final_total:0,loadingItem:""}),actions:{getCart(){e.get(`${o}/api/${r}/cart`).then(t=>{this.carts=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total,console.log(this.carts)}).catch(t=>s(t.response.data.message,"error"))},addToCart(t,a=1){const i={product_id:t,qty:a};e.post(`${o}/api/${r}/cart`,{data:i}).then(c=>{this.getCart(),s(c.data.message,"success"),this.loadingItem=""}).catch(c=>s(c.response.data.message,"error"))},delCart(t){this.loadingItem=t,e.delete(`${o}/api/${r}/cart/${t}`).then(a=>{this.getCart(),s(a.data.message,"success")}).catch(a=>s(a.response.data.message,"error"))},delCarts(){e.delete(`${o}/api/${r}/carts`).then(t=>{this.getCart(),s(t.data.message,"success"),this.loadingItem=""}).catch(t=>s(t.response.data.message,"error"))},updateCart(t){this.loadingItem=t.id,e.put(`${o}/api/${r}/cart/${t.id}`,{data:{product_id:t.product_id,qty:t.qty}}).then(a=>{this.getCart(),s(a.data.message,"success"),this.loadingItem=""}).catch(a=>s(a.response.data.message,"error"))}}});export{u as c,l as p};
