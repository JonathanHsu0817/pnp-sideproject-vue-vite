import{E as d,G as s}from"./index-a1e47a3e.js";import{T as e}from"./productsStore-44a608e0.js";const{VITE_API_URL:r,VITE_API_PATH:o}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_API_PATH:"blacknwhiterabbit",BASE_URL:"/pnp-sideproject-vue-vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},l=d("cartStore",{state:()=>({carts:[],total:0,final_total:0,loadingItem:""}),actions:{getCart(){s.get(`${r}/api/${o}/cart`).then(t=>{this.carts=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total,console.log(this.carts)}).catch(t=>e(t.response.data.message,"error"))},addToCart(t,a=1){const i={product_id:t,qty:a};s.post(`${r}/api/${o}/cart`,{data:i}).then(c=>{this.getCart(),e(c.data.message,"success"),this.loadingItem=""}).catch(c=>e(c.response.data.message,"error"))},delCart(t){this.loadingItem=t,s.delete(`${r}/api/${o}/cart/${t}`).then(a=>{this.getCart(),e(a.data.message,"success")}).catch(a=>e(a.response.data.message,"error"))},delCarts(){s.delete(`${r}/api/${o}/carts`).then(t=>{this.getCart(),e(t.data.message,"success"),this.loadingItem=""}).catch(t=>e(t.response.data.message,"error"))},updateCart(t){this.loadingItem=t.id,s.put(`${r}/api/${o}/cart/${t.id}`,{data:{product_id:t.product_id,qty:t.qty}}).then(a=>{this.getCart(),e(a.data.message,"success"),this.loadingItem=""}).catch(a=>e(a.response.data.message,"error"))}}});export{l as c};
